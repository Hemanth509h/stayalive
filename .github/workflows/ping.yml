name: Keep Render Apps Alive

on:
  schedule:
    - cron: "*/10 * * * *"
  workflow_dispatch:

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Render Websites
        run: |
          SITES=(
            "https://canteen-f0rq.onrender.com"
            "https://canteen-jtyn.onrender.com"
            "https://grocerly-management-system-7xsw.onrender.com"
          )

          for site in "${SITES[@]}"; do
            echo "üîÑ Pinging $site"
            curl -L --max-time 60 --retry 3 --retry-delay 5 -A "Mozilla/5.0" "$site" || echo "‚ö†Ô∏è Failed: $site"
            echo "-----------------------------"
          done
